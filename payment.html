<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Payment - Ready Mechanic</title>
    <link rel="stylesheet" href="assets/css/payment.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
</head>
<body>
    <div class="payment-container">
        <div class="payment-header">
            <img src="assets/img/logo.png" alt="ReadyMechanic Logo" class="logo">
            <h1>Payment</h1>
            <p>Complete your payment to confirm the service</p>
        </div>

        <div class="payment-content">
            <div class="payment-summary">
                <h2>Service Summary</h2>
                <div class="summary-card">
                    <div class="summary-item">
                        <span class="label">Service Type</span>
                        <span class="value" id="serviceType">Flat Tire Repair</span>
                    </div>
                    <div class="summary-item">
                        <span class="label">Vehicle Type</span>
                        <span class="value" id="vehicleType">Bike</span>
                    </div>
                    <div class="summary-item">
                        <span class="label">Location</span>
                        <span class="value" id="serviceLocation">Mumbai, Maharashtra</span>
                    </div>
                    <div class="summary-item">
                        <span class="label">Urgency</span>
                        <span class="value" id="urgency">High</span>
                    </div>
                    <div class="summary-item total">
                        <span class="label">Total Amount</span>
                        <span class="value" id="totalAmount">â‚¹500</span>
                    </div>
                </div>
            </div>

            <div class="payment-methods">
                <h2>Select Payment Method</h2>
                
                <form id="paymentForm" class="payment-form">
                    <div class="payment-options">
                        <div class="payment-option" data-method="upi">
                            <input type="radio" id="upi" name="paymentMethod" value="upi" required>
                            <label for="upi">
                                <i class="fas fa-mobile-alt"></i>
                                <div>
                                    <h3>UPI Payment</h3>
                                    <p>Pay using UPI apps like PhonePe, Google Pay, Paytm</p>
                                </div>
                            </label>
                        </div>

                        <div class="payment-option" data-method="card">
                            <input type="radio" id="card" name="paymentMethod" value="card" required>
                            <label for="card">
                                <i class="fas fa-credit-card"></i>
                                <div>
                                    <h3>Credit/Debit Card</h3>
                                    <p>Pay using your credit or debit card</p>
                                </div>
                            </label>
                        </div>

                        <div class="payment-option" data-method="wallet">
                            <input type="radio" id="wallet" name="paymentMethod" value="wallet" required>
                            <label for="wallet">
                                <i class="fas fa-wallet"></i>
                                <div>
                                    <h3>Digital Wallet</h3>
                                    <p>Pay using Paytm, PhonePe, or other wallets</p>
                                </div>
                            </label>
                        </div>

                        <div class="payment-option" data-method="cod">
                            <input type="radio" id="cod" name="paymentMethod" value="cod" required>
                            <label for="cod">
                                <i class="fas fa-money-bill-wave"></i>
                                <div>
                                    <h3>Cash on Delivery</h3>
                                    <p>Pay cash when the mechanic arrives</p>
                                </div>
                            </label>
                        </div>
                    </div>

                    <!-- UPI Payment Details -->
                    <div class="payment-details" id="upiDetails" style="display: none;">
                        <h3>UPI Payment</h3>
                        <div class="form-group">
                            <label for="upiId">UPI ID</label>
                            <input type="text" id="upiId" name="upiId" placeholder="yourname@paytm">
                        </div>
                        <div class="upi-apps">
                            <p>Choose your UPI app:</p>
                            <div class="app-buttons">
                                <button type="button" class="app-btn" data-app="phonepe">
                                    <img src="https://via.placeholder.com/40x40/FF6B6B/FFFFFF?text=PP" alt="PhonePe">
                                    PhonePe
                                </button>
                                <button type="button" class="app-btn" data-app="gpay">
                                    <img src="https://via.placeholder.com/40x40/4285F4/FFFFFF?text=GP" alt="Google Pay">
                                    Google Pay
                                </button>
                                <button type="button" class="app-btn" data-app="paytm">
                                    <img src="https://via.placeholder.com/40x40/00BAF2/FFFFFF?text=PT" alt="Paytm">
                                    Paytm
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Card Payment Details -->
                    <div class="payment-details" id="cardDetails" style="display: none;">
                        <h3>Card Payment</h3>
                        <div class="form-group">
                            <label for="cardNumber">Card Number</label>
                            <input type="text" id="cardNumber" name="cardNumber" placeholder="1234 5678 9012 3456" maxlength="19">
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="expiryDate">Expiry Date</label>
                                <input type="text" id="expiryDate" name="expiryDate" placeholder="MM/YY" maxlength="5">
                            </div>
                            <div class="form-group">
                                <label for="cvv">CVV</label>
                                <input type="text" id="cvv" name="cvv" placeholder="123" maxlength="3">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="cardName">Name on Card</label>
                            <input type="text" id="cardName" name="cardName" placeholder="John Doe">
                        </div>
                    </div>

                    <!-- Wallet Payment Details -->
                    <div class="payment-details" id="walletDetails" style="display: none;">
                        <h3>Digital Wallet</h3>
                        <div class="form-group">
                            <label for="walletType">Select Wallet</label>
                            <select id="walletType" name="walletType">
                                <option value="">Choose wallet</option>
                                <option value="paytm">Paytm</option>
                                <option value="phonepe">PhonePe</option>
                                <option value="amazonpay">Amazon Pay</option>
                                <option value="mobikwik">MobiKwik</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="walletNumber">Wallet Number/ID</label>
                            <input type="text" id="walletNumber" name="walletNumber" placeholder="Enter wallet number">
                        </div>
                    </div>

                    <!-- Cash on Delivery Details -->
                    <div class="payment-details" id="codDetails" style="display: none;">
                        <h3>Cash on Delivery</h3>
                        <div class="cod-info">
                            <i class="fas fa-info-circle"></i>
                            <p>You can pay the mechanic directly when they arrive at your location. The exact amount will be confirmed before service completion.</p>
                        </div>
                    </div>

                    <div class="payment-actions">
                        <button type="button" class="btn-secondary" onclick="goBack()">Back</button>
                        <button type="submit" class="btn-primary" id="payBtn">
                            <span class="btn-text">Proceed to Payment</span>
                            <span class="btn-loader" style="display: none;">
                                <i class="fas fa-spinner fa-spin"></i>
                            </span>
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Payment Success Modal -->
    <div id="paymentSuccessModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Payment Successful!</h3>
            </div>
            <div class="modal-body">
                <div class="success-icon">
                    <i class="fas fa-check-circle"></i>
                </div>
                <p>Your payment has been processed successfully.</p>
                <p>Transaction ID: <strong id="transactionId">TXN123456789</strong></p>
                <p>A mechanic will be assigned to your service request shortly.</p>
                <div class="modal-actions">
                    <button class="btn-primary" onclick="goToDashboard()">Go to Dashboard</button>
                </div>
            </div>
        </div>
    </div>

    <script src="assets/js/page-loader.js"></script>
    <script type="module" src="assets/js/payment.js"></script>
</body>
</html>
